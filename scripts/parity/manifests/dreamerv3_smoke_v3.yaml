{
    "schema_version": "parity.manifest.v1",
    "defaults": {
        "alpha": 0.05,
        "equivalence_margin": 0.05,
        "noninferiority_margin": 0.05,
        "eps": 1e-08,
    },
    "seed_policy": {
        "mode": "fixed",
        "values": [0, 1],
        "pilot_seeds": 2,
        "min_seeds": 2,
        "max_seeds": 2,
        "power_target": 0.8,
    },
    "statistical": {
        "bayesian": {
            "enable": false,
            "draws": 20000,
            "seed": 20260225,
            "probability_threshold_equivalence": 0.95,
            "probability_threshold_noninferiority": 0.975,
            "dual_pass_required": false,
        },
    },
    "tasks": [
        {
            "task_id": "atari100k_pong",
            "family": "dreamerv3",
            "required_metrics": ["final_return_mean", "auc_return"],
            "official": {
                "adapter": "official_dreamerv3",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/official_dreamerv3.py",
                    "--repo-root",
                    "../dreamerv3-official",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/official",
                    "--metrics-out",
                    "{metrics_out}",
                ],
            },
            "worldflux": {
                "adapter": "worldflux_dreamerv3_native",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/worldflux_dreamerv3_native.py",
                    "--repo-root",
                    ".",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--eval-interval",
                    "5000",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/worldflux",
                    "--metrics-out",
                    "{metrics_out}",
                    "--policy-mode",
                    "parity_candidate",
                    "--dreamer-policy-impl",
                    "auto",
                    "--dreamer-replay-ratio",
                    "256.0",
                    "--dreamer-train-chunk-size",
                    "64",
                    "--dreamer-model-profile",
                    "official_xl",
                    "--dreamer-lr",
                    "4e-5",
                    "--dreamer-diagnostic",
                    "true",
                ],
            },
            "validity_requirements": {
                "policy_mode": "parity_candidate",
                "environment_backend": "gymnasium",
                "forbidden_shortcuts": ["policy=random", "mode=mock"],
            },
        },
        {
            "task_id": "atari100k_breakout",
            "family": "dreamerv3",
            "required_metrics": ["final_return_mean", "auc_return"],
            "official": {
                "adapter": "official_dreamerv3",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/official_dreamerv3.py",
                    "--repo-root",
                    "../dreamerv3-official",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/official",
                    "--metrics-out",
                    "{metrics_out}",
                ],
            },
            "worldflux": {
                "adapter": "worldflux_dreamerv3_native",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/worldflux_dreamerv3_native.py",
                    "--repo-root",
                    ".",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--eval-interval",
                    "5000",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/worldflux",
                    "--metrics-out",
                    "{metrics_out}",
                    "--policy-mode",
                    "parity_candidate",
                    "--dreamer-policy-impl",
                    "auto",
                    "--dreamer-replay-ratio",
                    "256.0",
                    "--dreamer-train-chunk-size",
                    "64",
                    "--dreamer-model-profile",
                    "official_xl",
                    "--dreamer-lr",
                    "4e-5",
                    "--dreamer-diagnostic",
                    "true",
                ],
            },
            "validity_requirements": {
                "policy_mode": "parity_candidate",
                "environment_backend": "gymnasium",
                "forbidden_shortcuts": ["policy=random", "mode=mock"],
            },
        },
        {
            "task_id": "atari100k_boxing",
            "family": "dreamerv3",
            "required_metrics": ["final_return_mean", "auc_return"],
            "official": {
                "adapter": "official_dreamerv3",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/official_dreamerv3.py",
                    "--repo-root",
                    "../dreamerv3-official",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/official",
                    "--metrics-out",
                    "{metrics_out}",
                ],
            },
            "worldflux": {
                "adapter": "worldflux_dreamerv3_native",
                "cwd": "../../..",
                "timeout_sec": 86400,
                "env": {},
                "command": [
                    "python3",
                    "scripts/parity/wrappers/worldflux_dreamerv3_native.py",
                    "--repo-root",
                    ".",
                    "--task-id",
                    "{task_id}",
                    "--seed",
                    "{seed}",
                    "--steps",
                    "110000",
                    "--device",
                    "{device}",
                    "--eval-interval",
                    "5000",
                    "--run-dir",
                    "{run_root}/executions/{task_id}/seed_{seed}/worldflux",
                    "--metrics-out",
                    "{metrics_out}",
                    "--policy-mode",
                    "parity_candidate",
                    "--dreamer-policy-impl",
                    "auto",
                    "--dreamer-replay-ratio",
                    "256.0",
                    "--dreamer-train-chunk-size",
                    "64",
                    "--dreamer-model-profile",
                    "official_xl",
                    "--dreamer-lr",
                    "4e-5",
                    "--dreamer-diagnostic",
                    "true",
                ],
            },
            "validity_requirements": {
                "policy_mode": "parity_candidate",
                "environment_backend": "gymnasium",
                "forbidden_shortcuts": ["policy=random", "mode=mock"],
            },
        },
    ],
}
